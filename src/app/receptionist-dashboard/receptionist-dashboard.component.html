<div class="receptionist-dashboard">
  <div style="position: fixed; bottom: 20px; right: 20px">
    <button (click)="goBack()">ðŸ”™ Back to Home</button>
  </div>

  <h1>Receptionist Dashboard</h1>
  <button class="logout-btn" (click)="logout()">Logout</button>

  <h2>Appointments</h2>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>

  <table *ngIf="appointments.length > 0; else noAppointments">
    <thead>
      <tr>
        <th>ID</th>
        <th>Patient Email</th>
        <th>Patient Name</th>
        <th>Doctor Email</th>
        <th>Date</th>
        <th>Time</th>
        <th>Status</th>
        <th>Update Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let appointment of appointments; trackBy: trackById">
        <td>{{ appointment._id }}</td>
        <td>{{ appointment.patientEmail }}</td>
        <td>{{ appointment.patientName }}</td>
        <td>{{ appointment.doctorId?.email || appointment.doctorId }}</td>
        <td>{{ appointment.date }}</td>
        <td>{{ appointment.time }}</td>
        <td>{{ appointment.status }}</td>
        <td>
          <input
            type="text"
            placeholder="Type 'present' to update"
            (input)="updateStatus(appointment, $event)"
          />
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #noAppointments>
    <p>No appointments available to display.</p>
  </ng-template>
</div>
